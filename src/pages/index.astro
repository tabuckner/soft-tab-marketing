---
import BaseLayout from '../layouts/BaseLayout.astro';
import Hero from '../components/blocks/Hero.astro';
import Section from '../components/ui/Section.astro';
import Container from '../components/ui/Container.astro';
import PersonaCard from '../components/blocks/PersonaCard.astro';
import ServiceCard from '../components/blocks/ServiceCard.astro';
import DifferentiatorBlock from '../components/blocks/DifferentiatorBlock.astro';
import StatsRow from '../components/blocks/StatsRow.astro';
import TestimonialCard from '../components/blocks/TestimonialCard.astro';
import ProcessStep from '../components/blocks/ProcessStep.astro';
import CTABlock from '../components/blocks/CTABlock.astro';
import Button from '../components/ui/Button.astro';
import HeroGraphic from '../components/blocks/HeroGraphic.astro';
---

<BaseLayout
  title="Soft-TAB | AI-Augmented Software Development Consultancy"
  description="Engineering, augmented. Expert software development consultancy using AI-assisted tools to ship faster, build smarter. Fractional teams, greenfield builds, and CTO advisory."
>
  <!-- Section 1: Hero -->
  <Hero
    tagline="Engineering, Augmented."
    headline="Production-grade software at startup speed."
    subheadline="We're the engineering partner that founders and CTOs call when they need to move fast without cutting corners. Senior expertise. AI-augmented delivery. Real outcomes."
    primaryCTA={{ label: 'Schedule a Discovery Call', href: '/contact' }}
    secondaryCTA={{ label: 'See How We Work', href: '#how-we-work' }}
    centered={false}
    hasGraphic={true}
  >
    <HeroGraphic />
  </Hero>

  <!-- Section 2: Who We Help -->
  <Section>
    <Container>
      <div class="reveal text-center max-w-2xl mx-auto mb-16">
        <h2 class="text-3xl md:text-4xl font-semibold text-primary">
          We work with leaders who need to move fast.
        </h2>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <div class="reveal h-full" style="transition-delay: 100ms;">
          <PersonaCard
            headline="Building something new?"
            body="You have the vision. We'll build the product. From concept to launch, we're the technical partner that speaks your language, not just code."
            ctaLabel="How we help founders"
            href="/for-founders"
          />
        </div>
        <div class="reveal h-full" style="transition-delay: 250ms;">
          <PersonaCard
            headline="Need senior engineering firepower?"
            body="Embedded talent that ships from day one. When your team is maxed out and the roadmap won't wait, we drop in and deliver."
            ctaLabel="How we help CTOs"
            href="/for-engineering-leaders"
          />
        </div>
        <div class="reveal h-full" style="transition-delay: 400ms;">
          <PersonaCard
            headline="Ready to put AI to work?"
            body="No hype. Real productivity gains. We help your team adopt AI-augmented development workflows that actually move the needle."
            ctaLabel="How we help with AI"
            href="/for-ai-adoption"
          />
        </div>
      </div>
    </Container>
  </Section>

  <!-- Section 3: Services Overview -->
  <Section>
    <Container>
      <div class="reveal text-center max-w-2xl mx-auto mb-16">
        <h2 class="text-3xl md:text-4xl font-semibold text-primary">What we do</h2>
        <p class="mt-6 text-lg text-secondary leading-relaxed">
          From greenfield builds to project rescues, we structure every engagement around what you actually need.
        </p>
      </div>
      <div class="space-y-10 md:space-y-14">
        {[
          { icon: 'code', headline: 'Custom Software Development', body: 'Full-stack product development from architecture to production. We build web applications, APIs, and backend systems designed to scale from day one.' },
          { icon: 'users', headline: 'Team Augmentation & Rescue', body: 'Senior engineers who embed in your team, your tools, your standup. Plus a proven track record rescuing projects that have gone sideways.' },
          { icon: 'zap', headline: 'AI & Automation', body: 'AI-augmented development workflows, team training on AI coding tools, and AI feature development. Practical productivity gains, not buzzword bingo.' },
          { icon: 'compass', headline: 'Advisory & Strategy', body: 'Fractional CTO leadership, architecture review, technology stack evaluation, and build-vs-buy analysis. Strategic guidance from engineers who\'ve been in your seat.' },
        ].map((s, i) => (
          <div class:list={['md:max-w-[65%]', i % 2 === 0 ? 'reveal-left md:mr-auto' : 'reveal-right md:ml-auto']}>
            <ServiceCard icon={s.icon} headline={s.headline} body={s.body} />
          </div>
        ))}
      </div>
      <div class="text-center mt-12">
        <Button href="/services" variant="tertiary">
          View all services →
        </Button>
      </div>
    </Container>
  </Section>

  <!-- Section 4: The Soft-TAB Difference -->
  <Section background="subtle" pattern>
    <Container>
      <div class="reveal text-center max-w-2xl mx-auto mb-16">
        <p class="text-sm font-semibold uppercase tracking-[0.2em] text-gradient-brand mb-4">The Soft-TAB Difference</p>
        <h2 class="text-3xl md:text-4xl font-semibold text-primary">
          Why teams choose us
        </h2>
      </div>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
        <div class="reveal h-full" style="transition-delay: 100ms;">
          <DifferentiatorBlock
            headline="AI is how we work, not what we sell."
            body="Every engagement benefits from AI-augmented development workflows. We ship in weeks what traditionally takes months, without cutting corners on quality. AI handles the routine. Our senior engineers make the decisions that matter."
          />
        </div>
        <div class="reveal h-full" style="transition-delay: 250ms;">
          <DifferentiatorBlock
            headline="You work with the decision-maker."
            body="No account managers. No junior developers learning on your dime. Every engagement is led by experienced engineers who think architecturally and own the outcome."
          />
        </div>
        <div class="reveal h-full" style="transition-delay: 400ms;">
          <DifferentiatorBlock
            headline="We thrive where others have failed."
            body="Some projects go sideways. Codebases become unmaintainable. Timelines slip. We have a track record of entering project wastelands and restoring velocity, cleaning up tech debt, and getting teams shipping again."
          />
        </div>
      </div>
    </Container>
  </Section>

  <!-- Section 5: Social Proof -->
  <Section>
    <Container>
      <div class="reveal text-center max-w-2xl mx-auto mb-16">
        <h2 class="text-3xl md:text-4xl font-semibold text-primary">
          Trusted by builders
        </h2>
      </div>
      <div class="reveal max-w-3xl mx-auto" style="transition-delay: 120ms;">
        <StatsRow
          stats={[
            { value: '10+', label: 'Years of engineering experience' },
            { value: '50+', label: 'Projects delivered' },
            { value: '55%', label: 'Faster delivery with AI-augmented workflows' },
          ]}
        />
      </div>
      {/* Testimonials — uncomment when real quotes are available
      <div class="reveal grid grid-cols-1 md:grid-cols-2 gap-8 mt-16 max-w-4xl mx-auto" style="transition-delay: 240ms;">
        <TestimonialCard
          quote="Quote from a founder about the experience."
          name="Name"
          title="Title"
          company="Company"
        />
        <TestimonialCard
          quote="Quote from a CTO about the impact."
          name="Name"
          title="Title"
          company="Company"
        />
      </div>
      */}
    </Container>
  </Section>

  <!-- Section 6: How We Work -->
  <Section background="subtle" id="how-we-work">
    <Container>
      <div class="reveal text-center max-w-2xl mx-auto mb-16">
        <p class="text-sm font-semibold uppercase tracking-[0.2em] text-gradient-brand mb-4">Our Process</p>
        <h2 class="text-3xl md:text-4xl font-semibold text-primary">How we work</h2>
        <p class="mt-6 text-lg text-secondary leading-relaxed">
          Our process adapts to you. Here's the framework.
        </p>
      </div>
      <div class="max-w-xl mx-auto">
        <ProcessStep number={1} title="Discover" body="We start with a free discovery call. You tell us about your project, your timeline, and your goals. We listen." />
        <ProcessStep number={2} title="Scope" body="We define what success looks like: deliverables, milestones, and the engagement model that fits your needs." />
        <ProcessStep number={3} title="Kickoff" body="We align on tools, communication cadence, and working norms. Then we start building." />
        <ProcessStep number={4} title="Deliver" body="We ship iteratively. You see progress every week through regular check-ins and transparent updates. No surprises at the end." />
        <ProcessStep number={5} title="Evolve" body="Handoff to your team, extend the engagement, or pivot based on what we've learned together. You're never locked in." isLast={true} />
      </div>
      <div class="text-center mt-16">
        <p class="text-secondary mb-6">Not sure which model fits? Every engagement starts with a conversation.</p>
        <Button href="/contact" variant="primary" size="lg">
          Schedule a Discovery Call
        </Button>
      </div>
    </Container>
  </Section>

  <!-- Section 7: Final CTA -->
  <CTABlock
    headline="Let's build something great."
    subheadline="Every engagement starts with a free discovery call. No pressure, no sales pitch. Just a conversation about what you need."
    buttonLabel="Schedule a Discovery Call"
    buttonHref="/contact"
  />
</BaseLayout>
